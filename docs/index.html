<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>doc-test</title><meta name="description" content="Documentation for doc-test"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">doc-test</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>doc-test</h2></div><div class="tsd-panel tsd-typography"><p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/github-actions-sonar-cloud/actions/workflows/node.js.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/github-actions-sonar-cloud/actions/workflows/node.js.yml/badge.svg" alt="Tests"></a></p>
<p><a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2324/github-actions-sonar-cloud?branch=main"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2324/github-actions-sonar-cloud/badge.svg?branch=main" alt="Coverage Status"></a></p>
<p><a href="https://sonarcloud.io/summary/new_code?id=gdiazbricio_p6-tercera-modi"><img src="https://sonarcloud.io/api/project_badges/measure?project=gdiazbricio_p6-tercera-modi&metric=alert_status" alt="Quality Gate Status"></a></p>
<a id="md:informe-httpsull-esit-inf-dsi-2324githubioull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-gdiazbricio" class="tsd-anchor"></a><h3><a href="#md:informe-httpsull-esit-inf-dsi-2324githubioull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-gdiazbricio">INFORME: <a href="https://ull-esit-inf-dsi-2324.github.io/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-gdiazbricio/">https://ull-esit-inf-dsi-2324.github.io/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-gdiazbricio/</a></a></h3><a id="md:práctica-9-diseño-de-una-aplicación-para-la-gestión-de-cartas-magic" class="tsd-anchor"></a><h1><a href="#md:práctica-9-diseño-de-una-aplicación-para-la-gestión-de-cartas-magic">PRÁCTICA 9: DISEÑO DE UNA APLICACIÓN PARA LA GESTIÓN DE CARTAS MAGIC.</a></h1><a id="md:guillermo-díaz-bricio---desarrollo-de-sistemas-informáticos-3º-grado-en-ingeniería-informática" class="tsd-anchor"></a><h3><a href="#md:guillermo-díaz-bricio---desarrollo-de-sistemas-informáticos-3º-grado-en-ingeniería-informática">Guillermo Díaz Bricio - Desarrollo de Sistemas Informáticos, 3º Grado en Ingeniería Informática</a></h3><a id="md:contenidos" class="tsd-anchor"></a><h2><a href="#md:contenidos">Contenidos:</a></h2><ul>
<li><a href="#md:contenidos">Contenidos.</a></li>
<li><a href="#md:resumen">Resumen.</a></li>
<li><a href="#md:objetivos">Objetivos.</a></li>
<li><a href="#md:ejercicio-propuesto-en-el-guión">Ejercicio propuesto en el guión:</a></li>
<li><a href="#md:ejericicio-propuesto-en-el-aula">Ejercicio propuesto en el aula:</a></li>
<li><a href="#md:conclusiones">Conclusiones.</a></li>
<li><a href="#md:bibliografía">Bibliografía.</a></li>
</ul>
<a id="md:resumen" class="tsd-anchor"></a><h2><a href="#md:resumen">Resumen:</a></h2><p>En esta práctica se ha realizado una apliación multiusuario, de manera no concurrente para la gestión de colecciones de cartas Magic de diferentes usuarios. Cada usuario podrá realizar operaciones sobre su colección. Se deberá seguir trabajando con Objetos, Clases, Interfaces, etcétera. Además de introducir conceptos como la gestión del sistema de archivos.</p>
<a id="md:objetivos" class="tsd-anchor"></a><h2><a href="#md:objetivos">Objetivos:</a></h2><p>Los objetivos son:</p>
<ol>
<li>Manejar adecuadamente objetos.</li>
<li>Aplicar principios SOLID. </li>
<li>Diseño de un código consistente y bien formateado (mediante el uso de herramintas como ESLint y Prettier).</li>
<li>Desarrollo integrado mediante pruebas, utilizando Mocha y Chai.</li>
<li>Creación de documentación automátizada mediante TypeDoc.</li>
<li>Cubrimiento de código mediante c8 y coveralls.</li>
<li>Calidad de código por SonarCloud.</li>
<li>Trabajar con la API del sistema de ficheros de Node.</li>
<li>Trabajar con paquetes de lectura de argumentos como yargs y de formateo de la terminal como chalk.</li>
</ol>
<a id="md:ejercicio-propuesto-en-el-guión" class="tsd-anchor"></a><h2><a href="#md:ejercicio-propuesto-en-el-guión">Ejercicio propuesto en el guión:</a></h2><p>En esta práctica se requería diseñar e implementar una aplicación que permitiera a diferentes usuarios manejar su colección de cartas Magic, de manera que cada uno de ellos pueda realizar operaciones sobre la misma.</p>
<p>En primer lugar, se define la interfaz <code>Card</code>, que define la forma que debe tener un objeto de tipo carta Magic</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">Card</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">id</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">mana</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">color</span><span class="hl-1">: </span><span class="hl-3">Colors</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">typeLine</span><span class="hl-1">: </span><span class="hl-3">TypeLines</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">oddity</span><span class="hl-1">: </span><span class="hl-3">Oddities</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">rules</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">strength</span><span class="hl-1">?: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">endurance</span><span class="hl-1">?: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">loyalty</span><span class="hl-1">?: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">marketValue</span><span class="hl-1">: </span><span class="hl-3">number</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Lo más importante a destacar son los campos opcionales, marcados con un <code>?</code> al lado de su identificador, nos permite definir campos que pueden estar presentes, o no.</p>
<p>Se definen también los siguientes enumerados:</p>
<ul>
<li>Colors: Define los colores que pueden tener las cartas.</li>
<li>TypeLines: Define los tipos que puede tener la carta.</li>
<li>Oddities: Define las diferentes rarezas que puede tener la carta.</li>
</ul>
<p>Una vez podamos definir cartas, es necesaria la implementación de una clase que almacene todas esas cartas, es aquí donde entra en juego la clase <code>CardCollection</code>:</p>
<pre><code class="language-typescript"><span class="hl-5">/**</span><br/><span class="hl-5"> * Represents a collection of cards.</span><br/><span class="hl-5"> */</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">CardCollection</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * The collection of cards.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">collection</span><span class="hl-1">: </span><span class="hl-3">Card</span><span class="hl-1">[];</span><br/><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Creates an instance of CardCollection.</span><br/><span class="hl-5">   * </span><span class="hl-2">@param</span><span class="hl-5"> </span><span class="hl-4">user</span><span class="hl-5"> The user associated with the collection.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">user</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">collection</span><span class="hl-1"> = [];</span><br/><span class="hl-1">    </span><span class="hl-5">// If the directory for the user does not exist, create it and initialize the collection file.</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-6">existsSync</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">user</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-6">mkdirSync</span><span class="hl-1">(</span><span class="hl-7">`</span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-8">.</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-6">writeFileSync</span><span class="hl-1">(</span><span class="hl-7">`</span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-8">.</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">/collection.json`</span><span class="hl-1">, </span><span class="hl-7">&quot;[]&quot;</span><span class="hl-1">, { </span><span class="hl-4">flag:</span><span class="hl-1"> </span><span class="hl-7">&quot;w&quot;</span><span class="hl-1"> });</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Gets the user associated with the collection.</span><br/><span class="hl-5">   * </span><span class="hl-2">@returns</span><span class="hl-5"> The user associated with the collection.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-6">getUser</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">user</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Writes the collection of cards to a JSON file.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-6">write</span><span class="hl-1">(): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">toWrite</span><span class="hl-1"> = </span><span class="hl-9">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">collection</span><span class="hl-1">, </span><span class="hl-2">null</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">writeFileSync</span><span class="hl-1">(</span><span class="hl-7">`</span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-8">.</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">/collection.json`</span><span class="hl-1">, </span><span class="hl-4">toWrite</span><span class="hl-1">, { </span><span class="hl-4">flag:</span><span class="hl-1"> </span><span class="hl-7">&#39;w&#39;</span><span class="hl-1"> });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>El constructor de la clase recibe un <code>user</code>, que será el usuario al que pertenece la colección, en el constructor, primero se crea el directorio del usuario, comprobando primero que no exista antes, además, también se crea un fichero <code>json</code> dentro del directorio.</p>
<p>Se define el método <code>getUser</code> que devuelve el usuario al que pertenece la colección, y tambien el método <code>write</code> que escribe en el archivo del directorio del usuario los datos de su colección.</p>
<p>Por modularidad y cumplimiento del principio SOLID Open-Close se han declarado las diferentes operaciones que se pueden realizar sobre las colecciones en diferentes clases. Veremos en primer lugar la clase <code>AddCard</code>:</p>
<pre><code class="language-typescript"><span class="hl-5">/**</span><br/><span class="hl-5"> * Represents an operation to add a card to a collection.</span><br/><span class="hl-5"> */</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AddCard</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Creates an instance of AddCard.</span><br/><span class="hl-5">   * </span><span class="hl-2">@param</span><span class="hl-5"> </span><span class="hl-4">Cards</span><span class="hl-5"> The collection of cards to which the card will be added.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">Cards</span><span class="hl-1">: </span><span class="hl-3">CardCollection</span><span class="hl-1">){}</span><br/><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Adds a new card to the collection.</span><br/><span class="hl-5">   * </span><span class="hl-2">@param</span><span class="hl-5"> </span><span class="hl-4">newCard</span><span class="hl-5"> The card to be added.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-6">add</span><span class="hl-1">(</span><span class="hl-4">newCard</span><span class="hl-1">: </span><span class="hl-3">Card</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">found</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">Cards</span><span class="hl-1">.</span><span class="hl-4">collection</span><span class="hl-1">.</span><span class="hl-6">find</span><span class="hl-1">((</span><span class="hl-4">card</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">card</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1"> === </span><span class="hl-4">newCard</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">found</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-7">&quot;Card is already added in the collection of&quot;</span><span class="hl-1">, </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">Cards</span><span class="hl-1">.</span><span class="hl-6">getUser</span><span class="hl-1">()));</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">Cards</span><span class="hl-1">.</span><span class="hl-4">collection</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-4">newCard</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Se le pasará por constructor la colección sobre la que queremos hacer la operación, esto se repetirá en todas las clases de operaciones. Más adelante se define el método <code>add</code>, que primero compruba que la carta no esté ya en la colección, si no lo está lal introduce.</p>
<p>También se define la clase <code>DeleteCard</code>:</p>
<pre><code class="language-typescript"><span class="hl-5">/**</span><br/><span class="hl-5"> * Represents an operation to delete a card from a collection.</span><br/><span class="hl-5"> */</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">DeleteCard</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Creates an instance of DeleteCard.</span><br/><span class="hl-5">   * </span><span class="hl-2">@param</span><span class="hl-5"> </span><span class="hl-4">Cards</span><span class="hl-5"> The collection of cards from which the card will be deleted.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">Cards</span><span class="hl-1">: </span><span class="hl-3">CardCollection</span><span class="hl-1">){}</span><br/><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Deletes a card from the collection based on its id.</span><br/><span class="hl-5">   * </span><span class="hl-2">@param</span><span class="hl-5"> </span><span class="hl-4">toDeleteId</span><span class="hl-5"> The id of the card to be deleted.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-6">delete</span><span class="hl-1">(</span><span class="hl-4">toDeleteId</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">found</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">Cards</span><span class="hl-1">.</span><span class="hl-4">collection</span><span class="hl-1">.</span><span class="hl-6">find</span><span class="hl-1">((</span><span class="hl-4">card</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">card</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1"> === </span><span class="hl-4">toDeleteId</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">found</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">Cards</span><span class="hl-1">.</span><span class="hl-4">collection</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">Cards</span><span class="hl-1">.</span><span class="hl-4">collection</span><span class="hl-1">.</span><span class="hl-6">filter</span><span class="hl-1">((</span><span class="hl-4">card</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">card</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1"> !== </span><span class="hl-4">toDeleteId</span><span class="hl-1">;</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">green</span><span class="hl-1">(</span><span class="hl-7">&quot;The card &quot;</span><span class="hl-1"> + </span><span class="hl-4">toDeleteId</span><span class="hl-1"> + </span><span class="hl-7">&quot; has been deleted from the collection of&quot;</span><span class="hl-1">, </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">Cards</span><span class="hl-1">.</span><span class="hl-6">getUser</span><span class="hl-1">())); </span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-7">&quot;The card to delete was not found&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>El método <code>delete</code> primero comprobará que la carta a eliminar existe, buscando su ID en la colección, si existe la elimina y se emite un mensaje informativo, si no existe emite un mensaje de error.</p>
<p>La clase <code>ListCards</code>:</p>
<pre><code class="language-typescript"><span class="hl-5">/**</span><br/><span class="hl-5"> * Represents an operation to list cards in a collection.</span><br/><span class="hl-5"> */</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ListCards</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Creates an instance of ListCards.</span><br/><span class="hl-5">   * </span><span class="hl-2">@param</span><span class="hl-5"> </span><span class="hl-4">Cards</span><span class="hl-5"> The collection of cards to be listed.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">Cards</span><span class="hl-1">: </span><span class="hl-3">CardCollection</span><span class="hl-1">){}</span><br/><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Lists all the cards in the collection with their details.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-6">list</span><span class="hl-1">(): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">Cards</span><span class="hl-1">.</span><span class="hl-4">collection</span><span class="hl-1">.</span><span class="hl-6">forEach</span><span class="hl-1">((</span><span class="hl-4">card</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-7">`ID: </span><span class="hl-2">${</span><span class="hl-4">card</span><span class="hl-8">.</span><span class="hl-4">id</span><span class="hl-2">}</span><span class="hl-7">, Nombre: </span><span class="hl-2">${</span><span class="hl-4">card</span><span class="hl-8">.</span><span class="hl-4">name</span><span class="hl-2">}</span><span class="hl-7">, Mana: </span><span class="hl-2">${</span><span class="hl-4">card</span><span class="hl-8">.</span><span class="hl-4">mana</span><span class="hl-2">}</span><span class="hl-7">, Color: </span><span class="hl-2">${</span><span class="hl-4">chalk</span><span class="hl-8">.</span><span class="hl-6">hex</span><span class="hl-8">(</span><span class="hl-4">Correspondencies</span><span class="hl-8">[</span><span class="hl-4">card</span><span class="hl-8">.</span><span class="hl-4">color</span><span class="hl-8">])(</span><span class="hl-4">Colors</span><span class="hl-8">[</span><span class="hl-4">card</span><span class="hl-8">.</span><span class="hl-4">color</span><span class="hl-8">])</span><span class="hl-2">}</span><span class="hl-7">, TypeLine: </span><span class="hl-2">${</span><span class="hl-4">TypeLines</span><span class="hl-8">[</span><span class="hl-4">card</span><span class="hl-8">.</span><span class="hl-4">typeLine</span><span class="hl-8">]</span><span class="hl-2">}</span><span class="hl-7">, Rareza: </span><span class="hl-2">${</span><span class="hl-4">Oddities</span><span class="hl-8">[</span><span class="hl-4">card</span><span class="hl-8">.</span><span class="hl-4">oddity</span><span class="hl-8">]</span><span class="hl-2">}</span><span class="hl-7">, Reglas: </span><span class="hl-2">${</span><span class="hl-4">card</span><span class="hl-8">.</span><span class="hl-4">rules</span><span class="hl-2">}</span><span class="hl-7">, Fuerza: </span><span class="hl-2">${</span><span class="hl-4">card</span><span class="hl-8">.</span><span class="hl-4">strength</span><span class="hl-8"> </span><span class="hl-1">??</span><span class="hl-8"> </span><span class="hl-7">&quot;&quot;</span><span class="hl-2">}</span><span class="hl-7">, Resistencia: </span><span class="hl-2">${</span><span class="hl-4">card</span><span class="hl-8">.</span><span class="hl-4">endurance</span><span class="hl-8"> </span><span class="hl-1">??</span><span class="hl-8"> </span><span class="hl-7">&quot;&quot;</span><span class="hl-2">}</span><span class="hl-7">, Lealtad: </span><span class="hl-2">${</span><span class="hl-4">card</span><span class="hl-8">.</span><span class="hl-4">loyalty</span><span class="hl-8"> </span><span class="hl-1">??</span><span class="hl-8"> </span><span class="hl-7">&quot;&quot;</span><span class="hl-2">}</span><span class="hl-7">, Valor de mercado: </span><span class="hl-2">${</span><span class="hl-4">card</span><span class="hl-8">.</span><span class="hl-4">marketValue</span><span class="hl-2">}</span><span class="hl-7">`</span><span class="hl-1">);</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>El método <code>list</code> se encarga de iterar sobre la colección de cartas y de mostrar la información de cada una, lo más interesante a comentar es que el campo color se muestra en el color que corresponda, gracias a la función <code>chalk.hex()</code>.</p>
<p>La clase <code>ModifyCard</code>:</p>
<pre><code class="language-typescript"><span class="hl-5">/**</span><br/><span class="hl-5"> * Represents an operation to modify a card in a collection.</span><br/><span class="hl-5"> */</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ModifyCard</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Creates an instance of ModifyCard.</span><br/><span class="hl-5">   * </span><span class="hl-2">@param</span><span class="hl-5"> </span><span class="hl-4">Cards</span><span class="hl-5"> The collection of cards to be modified.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">Cards</span><span class="hl-1">: </span><span class="hl-3">CardCollection</span><span class="hl-1">){};</span><br/><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Modifies a card in the collection.</span><br/><span class="hl-5">   * </span><span class="hl-2">@param</span><span class="hl-5"> </span><span class="hl-4">toModify</span><span class="hl-5"> The card to be modified.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-6">modify</span><span class="hl-1">(</span><span class="hl-4">toModify</span><span class="hl-1">: </span><span class="hl-3">Card</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">found</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">Cards</span><span class="hl-1">.</span><span class="hl-4">collection</span><span class="hl-1">.</span><span class="hl-6">findIndex</span><span class="hl-1">((</span><span class="hl-4">card</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">card</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1"> === </span><span class="hl-4">toModify</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">found</span><span class="hl-1"> &gt;= </span><span class="hl-10">0</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">Cards</span><span class="hl-1">.</span><span class="hl-4">collection</span><span class="hl-1">[</span><span class="hl-4">found</span><span class="hl-1">] = </span><span class="hl-4">toModify</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">green</span><span class="hl-1">(</span><span class="hl-7">&quot;The card &quot;</span><span class="hl-1"> + </span><span class="hl-4">toModify</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1"> + </span><span class="hl-7">&quot; has been modified in the collection of&quot;</span><span class="hl-1">, </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">Cards</span><span class="hl-1">.</span><span class="hl-6">getUser</span><span class="hl-1">()));</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-6">red</span><span class="hl-1">(</span><span class="hl-7">&quot;The card to modify was not found&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Se accede a la carta a modificar, si se encuentra se modifica y se emite un mensaje informativo, si no la encuentra, simplemente emite un mensaje de error.</p>
<p>La clase <code>ShowCard</code>, no nos centraremos en su implementación, pues es muy similar a la clase <code>ListCards</code>, pero simplemente sobre una carta.</p>
<p>Del código cliente de la aplicación, usaremos de ejemplo el comando <code>list</code>, que nos permitirá ilustrar el funcionamiento de la lectura de argumentos y del propio código cliente:</p>
<pre><code class="language-typescript"><span class="hl-6">yargs</span><span class="hl-1">(</span><span class="hl-6">hideBin</span><span class="hl-1">(</span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">argv</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-6">command</span><span class="hl-1">(</span><span class="hl-7">&quot;list&quot;</span><span class="hl-1">, </span><span class="hl-7">&quot;List the cards of a collection&quot;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-4">user:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-7">&quot;User of the collection to list&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&quot;string&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }, (</span><span class="hl-4">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">myCollection</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">CardCollection</span><span class="hl-1">(</span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">user</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">existsSync</span><span class="hl-1">(</span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">user</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">data</span><span class="hl-1"> = </span><span class="hl-6">readFileSync</span><span class="hl-1">(</span><span class="hl-7">`</span><span class="hl-2">${</span><span class="hl-4">argv</span><span class="hl-8">.</span><span class="hl-4">user</span><span class="hl-2">}</span><span class="hl-7">/collection.json`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">myCollection</span><span class="hl-1">.</span><span class="hl-4">collection</span><span class="hl-1"> = </span><span class="hl-9">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-6">toString</span><span class="hl-1">());</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">myLister</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">ListCards</span><span class="hl-1">(</span><span class="hl-4">myCollection</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">myLister</span><span class="hl-1">.</span><span class="hl-6">list</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-6">help</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-4">argv</span><span class="hl-1">;</span><br/>
</code><button>Copy</button></pre>
<p>Definimos el comando list, añadimos los campos que se deben introducir, en este caso user. Luego, se define el código que se debe ejecutar cuando se utilice dicho comando, lo que se hace es crear un objeto de tipo <code>CardCollection</code>, buscamos si ya tiene información almacenada, y si la tiene se le asigna, de manera que luego se puedan realizar todo tipo de operaciones, en este caso la operación <code>list</code>, en el caso de modificar los valores, tendremos que añadir al final la llamada al método <code>write</code>, para que almacene los cambios en el fichero.</p>
<a id="md:ejercicio-propuesto-en-el-aula" class="tsd-anchor"></a><h2><a href="#md:ejercicio-propuesto-en-el-aula">Ejercicio Propuesto en el aula:</a></h2><p>Se pedía definir una clase plantilla, que definiera la estructura de un algoritmo de lectura de información acerca de una instancia del problema de la mochila en diferentes formatos:</p>
<p>Vemos por tanto la clase <code>ExtractInfo</code>:</p>
<pre><code class="language-typescript"><span class="hl-5">/**</span><br/><span class="hl-5"> * Custom type consisting on the solution tuple.</span><br/><span class="hl-5"> */</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">type</span><span class="hl-1"> </span><span class="hl-3">Solution</span><span class="hl-1"> = [(</span><span class="hl-3">string</span><span class="hl-1"> | </span><span class="hl-3">undefined</span><span class="hl-1">)[], (</span><span class="hl-3">string</span><span class="hl-1"> | </span><span class="hl-3">undefined</span><span class="hl-1">)[]];</span><br/><br/><span class="hl-5">/**</span><br/><span class="hl-5"> * Abstract class representing template class for extracting information about a bagInstance.</span><br/><span class="hl-5"> * </span><span class="hl-2">@param</span><span class="hl-5"> </span><span class="hl-4">solution_</span><span class="hl-5"> Consist on the solution of the algorithm.</span><br/><span class="hl-5"> */</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">abstract</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ExtractInfo</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">solution_</span><span class="hl-1">: </span><span class="hl-3">Solution</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-4">filepath</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">solution_</span><span class="hl-1"> = [[],[]];</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Consists on the template method.</span><br/><span class="hl-5">   * </span><span class="hl-2">@returns</span><span class="hl-5"> void.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">run</span><span class="hl-1">(): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">beforeProcessing</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">solution_</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">process</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">filepath</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">afterProcessing</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Abstract method that reads and returns a solution.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-2">abstract</span><span class="hl-1"> </span><span class="hl-6">process</span><span class="hl-1">(</span><span class="hl-4">filepath</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-3">Solution</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Hook methods (non mandatory) to be used before and after processing if needed.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-6">afterProcessing</span><span class="hl-1">(){}</span><br/><span class="hl-1">  </span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-6">beforeProcessing</span><span class="hl-1">(){}</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Se debía crear también las clases <code>ExtractIfoInCSV</code> y <code>ExtractInfoInJSON</code> que implementaran las particularidades de cada caso.</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ExtractInfoInCSV</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">ExtractInfo</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-4">filepath</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">){</span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-4">filepath</span><span class="hl-1">)}</span><br/><span class="hl-1">  </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Process a CSV file.</span><br/><span class="hl-5">   * </span><span class="hl-2">@returns</span><span class="hl-5"> a tuple containing information about weights and profits.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-6">process</span><span class="hl-1">(</span><span class="hl-4">filepath</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-3">Solution</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">myData</span><span class="hl-1"> = </span><span class="hl-6">readFileSync</span><span class="hl-1">(</span><span class="hl-4">filepath</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">myDataInString</span><span class="hl-1"> = </span><span class="hl-4">myData</span><span class="hl-1">.</span><span class="hl-6">toString</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">myDataInVector</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">[] = </span><span class="hl-4">myDataInString</span><span class="hl-1">.</span><span class="hl-6">split</span><span class="hl-1">(</span><span class="hl-7">&quot;</span><span class="hl-11">\n</span><span class="hl-7">&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">myWeights</span><span class="hl-1"> = [];</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">myProfits</span><span class="hl-1"> = [];</span><br/><span class="hl-1">    </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">i</span><span class="hl-1"> = </span><span class="hl-10">2</span><span class="hl-1">; </span><span class="hl-4">i</span><span class="hl-1"> &lt; </span><span class="hl-4">myDataInVector</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">; </span><span class="hl-4">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">      </span><span class="hl-4">myWeights</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-4">myDataInVector</span><span class="hl-1">[</span><span class="hl-4">i</span><span class="hl-1">].</span><span class="hl-6">split</span><span class="hl-1">(</span><span class="hl-7">&quot;,&quot;</span><span class="hl-1">).</span><span class="hl-6">at</span><span class="hl-1">(</span><span class="hl-10">1</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-4">myProfits</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-4">myDataInVector</span><span class="hl-1">[</span><span class="hl-4">i</span><span class="hl-1">].</span><span class="hl-6">split</span><span class="hl-1">(</span><span class="hl-7">&quot;,&quot;</span><span class="hl-1">).</span><span class="hl-6">at</span><span class="hl-1">(</span><span class="hl-10">2</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> [</span><span class="hl-4">myWeights</span><span class="hl-1">, </span><span class="hl-4">myProfits</span><span class="hl-1">];</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ExtractInfoInJSON</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">ExtractInfo</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-4">filepath</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">){</span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-4">filepath</span><span class="hl-1">)}</span><br/><span class="hl-1">    </span><span class="hl-5">/**</span><br/><span class="hl-5">   * Process a JSON file.</span><br/><span class="hl-5">   * </span><span class="hl-2">@returns</span><span class="hl-5"> a tuple containing information about weights and profits.</span><br/><span class="hl-5">   */</span><br/><span class="hl-1">  </span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-6">process</span><span class="hl-1">(</span><span class="hl-4">filepath</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-3">Solution</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">myData</span><span class="hl-1"> = </span><span class="hl-6">readFileSync</span><span class="hl-1">(</span><span class="hl-4">filepath</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">myDataInJSON</span><span class="hl-1">: </span><span class="hl-3">myJSONStructure</span><span class="hl-1"> = </span><span class="hl-9">JSON</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-4">myData</span><span class="hl-1">.</span><span class="hl-6">toString</span><span class="hl-1">());</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">myWeights</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">myProfits</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">    </span><span class="hl-4">myDataInJSON</span><span class="hl-1">.</span><span class="hl-4">elementos</span><span class="hl-1">.</span><span class="hl-6">forEach</span><span class="hl-1">((</span><span class="hl-4">element</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">myWeights</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-4">element</span><span class="hl-1">.</span><span class="hl-4">peso</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">myProfits</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-4">element</span><span class="hl-1">.</span><span class="hl-4">beneficio</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> [</span><span class="hl-4">myWeights</span><span class="hl-1">, </span><span class="hl-4">myProfits</span><span class="hl-1">];</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:conclusiones" class="tsd-anchor"></a><h2><a href="#md:conclusiones">Conclusiones:</a></h2><p>La realización de la práctica proporcionó un conocimiento más profundo acerca de la API de gestión del sistema de ficheros de Node. Así como la consoludación de conceptos del lenguaje como Objetos, Clases e interfaces genéricas, principios SOLID y sus aplicaciones, y sobre patrones de diseño. Además de seguir mejorando la lógica de programación, no solamente aplicada a TypeScript si no a cualquier lenguaje y a continuar prosperando con elementos como el desarrollo basado en pruebas, la generación de documentación automática y el cubrimiento de código.</p>
<a id="md:bibliografía" class="tsd-anchor"></a><h2><a href="#md:bibliografía">Bibliografía</a></h2><ul>
<li><a href="https://developer.mozilla.org/es/docs/Web/JavaScript/Guide/Working_with_objects">Documentación sobre objetos de Mozzilla</a>.</li>
<li><a href="https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Classes">Documentación sobre clases de Mozzilla</a></li>
<li><a href="https://developer.mozilla.org/es/docs/Web/JavaScript">Documentación de JavaScript de Mozzilla</a>.</li>
<li><a href="https://mochajs.org/">Documentación de Mocha</a>.</li>
<li><a href="https://www.chaijs.com/">Documentación de Chai</a>.</li>
<li><a href="https://github.com/chalk/chalk">Documentación de Chalk</a>.</li>
<li><a href="https://yargs.js.org/">Documentación de Yargs</a>.</li>
<li><a href="https://typedoc.org/">Documentación de TypeDoc</a>.</li>
<li><a href="https://nodejs.org/docs/latest/api/">Documentación de Node</a>.</li>
<li><a href="https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&cad=rja&uact=8&ved=2ahUKEwj3tsPGj9OEAxWVT6QEHcycA4AQFnoECAcQAQ&url=https%3A%2F%2Fcoveralls.io%2F&usg=AOvVaw2PjKrDGWUgtP9bnQyMWMrr&opi=89978449">Web de Coveralls</a>.</li>
<li><a href="https://sonarcloud.io/">Web de SonarCloud</a>.</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><ul><li><ul><li><a href="#md:informe-httpsull-esit-inf-dsi-2324githubioull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-gdiazbricio"><span>INFORME: https://ull-<wbr/>esit-<wbr/>inf-<wbr/>dsi-<wbr/>2324.github.io/ull-<wbr/>esit-<wbr/>inf-<wbr/>dsi-<wbr/>23-<wbr/>24-<wbr/>prct09-<wbr/>filesystem-<wbr/>magic-<wbr/>app-<wbr/>gdiazbricio/</span></a></li></ul></li></ul><a href="#md:práctica-9-diseño-de-una-aplicación-para-la-gestión-de-cartas-magic"><span>PRÁCTICA 9: DISEÑ<wbr/>O DE UNA APLICACIÓ<wbr/>N PARA LA GESTIÓ<wbr/>N DE CARTAS MAGIC.</span></a><ul><li><ul><li><a href="#md:guillermo-díaz-bricio---desarrollo-de-sistemas-informáticos-3º-grado-en-ingeniería-informática"><span>Guillermo <wbr/>Díaz <wbr/>Bricio -<wbr/> <wbr/>Desarrollo de <wbr/>Sistemas <wbr/>Informáticos, 3º <wbr/>Grado en <wbr/>Ingeniería <wbr/>Informática</span></a></li></ul></li><li><a href="#md:contenidos"><span>Contenidos:</span></a></li><li><a href="#md:resumen"><span>Resumen:</span></a></li><li><a href="#md:objetivos"><span>Objetivos:</span></a></li><li><a href="#md:ejercicio-propuesto-en-el-guión"><span>Ejercicio propuesto en el guión:</span></a></li><li><a href="#md:ejercicio-propuesto-en-el-aula"><span>Ejercicio <wbr/>Propuesto en el aula:</span></a></li><li><a href="#md:conclusiones"><span>Conclusiones:</span></a></li><li><a href="#md:bibliografía"><span>Bibliografía</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>doc-test</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>